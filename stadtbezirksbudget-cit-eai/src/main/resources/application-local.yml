server:
  port: 8085

logging:
  include-application-group: false
  level:
    org:
      springframework:
        security: DEBUG
    org.springframework.web.reactive.function.client: DEBUG

oauth:
  registrationId: local

sso:
  url: http://keycloak:8100
  realm: local_realm
  client: local

spring:
  security:
    oauth2:
      resourceserver:
        jwt:
          jwk-set-uri: ${sso.url}/auth/realms/${sso.realm}/protocol/openid-connect/certs
          # adds audience verification - https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#_supplying_audiences
          # requires client to be in audience claim, see https://www.keycloak.org/docs/latest/server_admin/#_audience_resolve
          audiences:
            - ${sso.client}
      client:
        registration:
          local:
            provider: keycloak
            client-id: local
            client-secret: client_secret
            authorization-grant-type: client_credentials
            scope:
              - openid
        provider:
          keycloak:
            token-uri: http://localhost:8100/auth/realms/local_realm/protocol/openid-connect/token
  kafka:
    bootstrap-servers: localhost:29092
    template:
      default-topic: stadtbezirksbudget-cit-backend-local

zammad:
  base-path: "http://localhost:8090"

refarch:
  security:
    client-id: ${sso.client}
    user-info-uri: ${sso.url}/auth/realms/${sso.realm}/protocol/openid-connect/userinfo
    logging-mode: all